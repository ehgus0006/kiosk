<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script th:src="@{~/js/jquery.min.js}"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<h2>봉대박 스파게티</h2>
<!--    // SPAGHETTI, SPECIAL, PIZZA, SIDE-->

<button id="spaghetti">SPAGHETTI</button>
<button id="special">SPECIAL</button>
<button id="pizza">PIZZA</button>
<button id="side">SIDE</button>

<div class="menuSpaghetti" th:each="menus : ${allMenu}" th:if="${menus.category == 'SPAGHETTI'}">
    <div>
        <input type="hidden" th:value="${menus.menu_name}" class="menu_name">
        <input type="hidden" th:value="${menus.menu_price}" class="menu_price">
        <img th:if="${menus.img_url != null}" th:src="@{/display(fileName=${menus.img_url})}" alt="250x250"><br>
        <img th:if="${menus.img_url == null}" th:src="@{~/img/noImg.png}" alt="250x250"><br>
        <td th:text="${menus.menu_name}" class="menu_name"></td>
        <br>
        <i class="fas fa-won-sign"></i>
        <td th:text="${menus.menu_price}" class="menu_price"></td>
        <br>
        <button type="button" class="itemBtn">장바구니</button>
    </div>
</div>

<div class="menuSpecial" th:each="menus : ${allMenu}" th:if="${menus.category == 'SPECIAL'}">
    <div>
        <input type="hidden" th:value="${menus.menu_name}" class="menu_name">
        <input type="hidden" th:value="${menus.menu_price}" class="menu_price">
        <img th:if="${menus.img_url != null}" th:src="@{/display(fileName=${menus.img_url})}" alt="250x250"><br>
        <img th:if="${menus.img_url == null}" th:src="@{~/img/noImg.png}" alt="250x250"><br>
        <td th:text="${menus.menu_name}" class="menu_name"></td>
        <br>
        <i class="fas fa-won-sign"></i>
        <td th:text="${menus.menu_price}" class="menu_price"></td>
        <br>
        <button type="button" class="itemBtn">장바구니</button>
    </div>
</div>
<div class="menuPizza" th:each="menus : ${allMenu}" th:if="${menus.category == 'PIZZA'}">
    <div>
        <input type="hidden" th:value="${menus.menu_name}" class="menu_name">
        <input type="hidden" th:value="${menus.menu_price}" class="menu_price">
        <img th:if="${menus.img_url != null}" th:src="@{/display(fileName=${menus.img_url})}" alt="250x250"><br>
        <img th:if="${menus.img_url == null}" th:src="@{~/img/noImg.png}" alt="250x250"><br>
        <td th:text="${menus.menu_name}" class="menu_name"></td>
        <br>
        <i class="fas fa-won-sign"></i>
        <td th:text="${menus.menu_price}" class="menu_price"></td>
        <br>
        <button type="button" class="itemBtn">장바구니</button>
    </div>
</div>
<div class="menuSide" th:each="menus : ${allMenu}" th:if="${menus.category == 'SIDE'}">
    <div>
        <input type="hidden" th:value="${menus.menu_name}" class="menu_name">
        <input type="hidden" th:value="${menus.menu_price}" class="menu_price">
        <img th:if="${menus.img_url != null}" th:src="@{/display(fileName=${menus.img_url})}" alt="250x250"><br>
        <img th:if="${menus.img_url == null}" th:src="@{~/img/noImg.png}" alt="250x250"><br>
        <td th:text="${menus.menu_name}"></td>
        <br>
        <i class="fas fa-won-sign"></i>
        <td th:text="${menus.menu_price}"></td>
        <br>
        <button type="button" class="itemBtn">장바구니</button>
    </div>
</div>

<div class="itemList">

</div>

<script>
    $(document).ready(function () {
        $('.menuSpaghetti').show();
        $('.menuSpecial').hide();
        $('.menuPizza').hide();
        $('.menuSide').hide();

        $('.itemBtn').click(function (){

            var menu_name = $(this).siblings('.menu_name').val();
            var menu_price = $(this).siblings('.menu_price').val();

            console.log(menu_name);
            console.log(menu_price);

            var str = "<tr class='item'>";
            str += "<td>"+ menu_name +"</td>"
            str += "<td>"+ menu_price +"</td>"
            str += "<td><button type='button' class='orderDelete'>주문삭제</button></td></tr>"

            $('.itemList').append(str);

            $('.orderDelete').on("click", orderDelete);

        });

        function orderDelete() {

            // var item = $(this).$('.itemList').children('.item');
            var itemList = $('.itemList');

            var item = $(this).parent().parent().parent('tr');
            var items = $(this).parent().parent('tr');


            console.log(item.html());
            console.log(items.html());
        }

        $('#spaghetti').click(function () {
            $('.menuSpaghetti').show();
            $('.menuSpecial').hide();
            $('.menuPizza').hide();
            $('.menuSide').hide();
        });

        $('#special').click(function () {
            $('.menuSpaghetti').hide();
            $('.menuSpecial').show();
            $('.menuPizza').hide();
            $('.menuSide').hide();
        });
        $('#pizza').click(function () {
            $('.menuSpaghetti').hide();
            $('.menuSpecial').hide();
            $('.menuPizza').show();
            $('.menuSide').hide();
        });
        $('#side').click(function () {
            $('.menuSpaghetti').hide();
            $('.menuSpecial').hide();
            $('.menuPizza').hide();
            $('.menuSide').show();
        });
    });
</script>
</body>
</html>